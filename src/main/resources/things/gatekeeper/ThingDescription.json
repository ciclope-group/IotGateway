{
  "type": "Thing",
  "name": "gatekeeper",
  "base": "http://wotgate.om.fi.upm.es/things/gatekeeper/",
  "gatekeeper": "http://wotgate.om.fi.upm.es/things/gatekeeper/",
  "roleBasedWritingAccessControl": "Administrator",
  "interactions": [
    {
      "type": "Property",
      "name": "state",
      "outputData": {
        "type": "object",
        "fields": {
          "name": {
            "type": "string"
          },
          "registeredUsers": {
            "type": "integer"
          },
          "registeredRoles": {
            "type": "integer"
          },
          "registeredUsersOnline": {
            "type": "integer"
          },
          "reservationOngoing": {
            "type": "boolean"
          },
          "status": {
            "enum": [
              "UNRESTRICTED",
              "RESTRICTED",
              "MAINTENANCE",
              "MALFUNCTION"
            ]
          },
          "timestamp": {
            "type": "string"
          }
        }
      },
      "writable": false,
      "link": [
        {
          "href": "state",
          "mediaType": "application/json"
        }
      ]
    },
    {
      "type": "Action",
      "name": "getAllRoles",
      "asynchronous": false,
      "roleBasedAccessControl": "Administrator",
      "outputData": {
        "type": "array",
        "items": {
          "type": "object",
          "fields": {
            "name": {
              "type": "string"
            },
            "level": {
              "type": "integer"
            },
            "userNames": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "dateCreated": {
              "type": "string"
            }
          }
        },
        "minItems": 0
      },
      "link": [
        {
          "href": "getAllRoles",
          "mediaType": "application/json"
        }
      ]
    },
    {
      "type": "Action",
      "name": "getRoleByName",
      "asynchronous": false,
      "roleBasedAccessControl": "Administrator",
      "inputData": {
        "type": "object",
        "fields": {
          "name": {
            "type": "string"
          }
        },
        "required": [
          "name"
        ]
      },
      "outputData": {
        "type": "object",
        "fields": {
          "name": {
            "type": "string"
          },
          "level": {
            "type": "integer"
          },
          "userNames": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "dateCreated": {
            "type": "string"
          }
        }
      },
      "link": [
        {
          "href": "getRoleByName",
          "mediaType": "application/json"
        }
      ]
    },
    {
      "type": "Action",
      "name": "getRolesByLevel",
      "asynchronous": false,
      "roleBasedAccessControl": "Administrator",
      "inputData": {
        "type": "object",
        "fields": {
          "level": {
            "type": "integer"
          }
        },
        "required": [
          "level"
        ]
      },
      "outputData": {
        "type": "array",
        "items": {
          "type": "object",
          "fields": {
            "name": {
              "type": "string"
            },
            "level": {
              "type": "integer"
            },
            "userNames": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "dateCreated": {
              "type": "string"
            }
          },
          "minItems": 0
        }
      },
      "link": [
        {
          "href": "getRolesByLevel",
          "mediaType": "application/json"
        }
      ]
    },
    {
      "type": "Action",
      "name": "addRole",
      "asynchronous": false,
      "roleBasedAccessControl": "Administrator",
      "inputData": {
        "type": "object",
        "fields": {
          "name": {
            "type": "string"
          },
          "level": {
            "type": "integer"
          },
          "required": [
            "name",
            "level"
          ]
        }
      },
      "link": [
        {
          "href": "addRole",
          "mediaType": "application/json"
        }
      ]
    },
    {
      "type": "Action",
      "name": "addUserToRole",
      "asynchronous": false,
      "roleBasedAccessControl": "Administrator",
      "inputData": {
        "type": "object",
        "fields": {
          "userName": {
            "type": "string"
          },
          "roleName": {
            "type": "string"
          }
        },
        "required": [
          "userName",
          "roleName"
        ]
      },
      "link": [
        {
          "href": "addUserToRole",
          "mediaType": "application/json"
        }
      ]
    },
    {
      "type": "Action",
      "name": "deleteUserFromRole",
      "asynchronous": false,
      "roleBasedAccessControl": "Administrator",
      "inputData": {
        "type": "object",
        "fields": {
          "userName": {
            "type": "string"
          },
          "roleName": {
            "type": "string"
          }
        },
        "required": [
          "userName",
          "roleName"
        ]
      },
      "link": [
        {
          "href": "deleteUserFromRole",
          "mediaType": "application/json"
        }
      ]
    },
    {
      "type": "Action",
      "name": "deleteRoleByName",
      "asynchronous": false,
      "roleBasedAccessControl": "Administrator",
      "inputData": {
        "type": "object",
        "fields": {
          "name": {
            "type": "string"
          }
        },
        "required": [
          "name"
        ]
      },
      "link": [
        {
          "href": "deleteRoleByName",
          "mediaType": "application/json"
        }
      ]
    },
    {
      "type": "Action",
      "name": "getAllUsers",
      "asynchronous": false,
      "roleBasedAccessControl": "Administrator",
      "outputData": {
        "type": "array",
        "items": {
          "type": "object",
          "fields": {
            "name": {
              "type": "string"
            },
            "email": {
              "type": "string"
            },
            "roleNames": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "validated": {
              "type": "boolean"
            },
            "online": {
              "type": "boolean"
            },
            "dateCreated": {
              "type": "string"
            },
            "dateModified": {
              "type": "string"
            }
          },
          "minItems": 0
        }
      },
      "link": [
        {
          "href": "getAllUsers",
          "mediaType": "application/json"
        }
      ]
    },
    {
      "type": "Action",
      "name": "getUser",
      "asynchronous": false,
      "roleBasedAccessControl": "Authenticated",
      "outputData": {
        "type": "object",
        "fields": {
          "name": {
            "type": "string"
          },
          "email": {
            "type": "string"
          },
          "roleNames": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "dateCreated": {
            "type": "string"
          },
          "dateModified": {
            "type": "string"
          }
        }
      },
      "link": [
        {
          "href": "getUser",
          "mediaType": "application/json"
        }
      ]
    },
    {
      "type": "Action",
      "name": "getUserByName",
      "asynchronous": false,
      "roleBasedAccessControl": "Administrator",
      "inputData": {
        "type": "object",
        "fields": {
          "name": {
            "type": "string"
          }
        },
        "required": [
          "name"
        ]
      },
      "outputData": {
        "type": "object",
        "fields": {
          "name": {
            "type": "string"
          },
          "email": {
            "type": "string"
          },
          "roleNames": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "validated": {
            "type": "boolean"
          },
          "online": {
            "type": "boolean"
          },
          "dateCreated": {
            "type": "string"
          },
          "dateModified": {
            "type": "string"
          }
        }
      },
      "link": [
        {
          "href": "getUserByName",
          "mediaType": "application/json"
        }
      ]
    },
    {
      "type": "Action",
      "name": "getUserByEmail",
      "asynchronous": false,
      "roleBasedAccessControl": "Administrator",
      "inputData": {
        "type": "object",
        "fields": {
          "email": {
            "type": "string"
          }
        },
        "required": [
          "email"
        ]
      },
      "outputData": {
        "type": "object",
        "fields": {
          "name": {
            "type": "string"
          },
          "email": {
            "type": "string"
          },
          "roleNames": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "validated": {
            "type": "boolean"
          },
          "online": {
            "type": "boolean"
          },
          "dateCreated": {
            "type": "string"
          },
          "dateModified": {
            "type": "string"
          }
        }
      },
      "link": [
        {
          "href": "getUserByEmail",
          "mediaType": "application/json"
        }
      ]
    },
    {
      "type": "Action",
      "name": "deleteUser",
      "asynchronous": false,
      "roleBasedAccessControl": "Authenticated",
      "link": [
        {
          "href": "deleteUser",
          "mediaType": "application/json"
        }
      ]
    },
    {
      "type": "Action",
      "name": "deleteUserByName",
      "asynchronous": false,
      "roleBasedAccessControl": "Administrator",
      "inputData": {
        "type": "object",
        "fields": {
          "name": {
            "type": "string"
          }
        },
        "required": [
          "name"
        ]
      },
      "link": [
        {
          "href": "deleteUserByName",
          "mediaType": "application/json"
        }
      ]
    },
    {
      "type": "Action",
      "name": "changeUserPassword",
      "asynchronous": false,
      "roleBasedAccessControl": "Authenticated",
      "inputData": {
        "type": "object",
        "fields": {
          "password": {
            "type": "string"
          }
        },
        "required": [
          "password"
        ]
      },
      "link": [
        {
          "href": "changeUserPassword",
          "mediaType": "application/json"
        }
      ]
    },
    {
      "type": "Action",
      "name": "registerUser",
      "asynchronous": false,
      "inputData": {
        "type": "object",
        "fields": {
          "name": {
            "type": "string"
          },
          "password": {
            "type": "string"
          },
          "email": {
            "type": "string"
          }
        },
        "required": [
          "name",
          "password",
          "email"
        ]
      },
      "link": [
        {
          "href": "registerUser",
          "mediaType": "application/json"
        }
      ]
    },
    {
      "type": "Action",
      "name": "confirmUserRegistration",
      "asynchronous": false,
      "inputData": {
        "type": "object",
        "fields": {
          "name": {
            "type": "string"
          },
          "email": {
            "type": "string"
          },
          "token": {
            "type": "string"
          }
        },
        "required": [
          "name",
          "email",
          "token"
        ]
      },
      "link": [
        {
          "href": "confirmUserRegistration",
          "mediaType": "application/json"
        }
      ]
    },
    {
      "type": "Action",
      "name": "recoverUserPassword",
      "asynchronous": false,
      "inputData": {
        "type": "object",
        "fields": {
          "name": {
            "type": "string"
          },
          "email": {
            "type": "string"
          }
        },
        "required": [
          "name",
          "email"
        ]
      },
      "link": [
        {
          "href": "recoverUserPassword",
          "mediaType": "application/json"
        }
      ]
    },
    {
      "type": "Action",
      "name": "confirmPasswordRecovery",
      "asynchronous": false,
      "inputData": {
        "type": "object",
        "fields": {
          "name": {
            "type": "string"
          },
          "email": {
            "type": "string"
          },
          "token": {
            "type": "string"
          }
        },
        "required": [
          "name",
          "email",
          "token"
        ]
      },
      "link": [
        {
          "href": "confirmPasswordRecovery",
          "mediaType": "application/json"
        }
      ]
    },
    {
      "type": "Action",
      "name": "generateUserToken",
      "asynchronous": false,
      "inputData": {
        "type": "object",
        "fields": {
          "name": {
            "type": "string"
          },
          "password": {
            "type": "string"
          }
        },
        "required": [
          "name",
          "password"
        ]
      },
      "outputData": {
        "type": "object",
        "fields": {
          "token": {
            "type": "string"
          },
          "expirationTime": {
            "type": "string"
          }
        }
      },
      "link": [
        {
          "href": "generateUserToken",
          "mediaType": "application/json"
        }
      ]
    },
    {
      "type": "Action",
      "name": "revokeUserToken",
      "asynchronous": false,
      "roleBasedAccessControl": "Authenticated",
      "link": [
        {
          "href": "revokeUserToken",
          "mediaType": "application/json"
        }
      ]
    },
    {
      "type": "Action",
      "name": "getUserPermissions",
      "asynchronous": false,
      "outputData": {
        "type": "object",
        "fields": {
          "name": {
            "type": "string"
          },
          "roleNames": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "reservationOngoing": {
            "type": "boolean"
          }
        }
      },
      "link": [
        {
          "href": "generateUserToken",
          "mediaType": "application/json"
        }
      ]
    },
    {
      "type": "Action",
      "name": "getAllReservationsByDate",
      "asynchronous": false,
      "inputData": {
        "type": "object",
        "fields": {
          "startDate": {
            "type": "string"
          }
        },
        "required": [
          "startDate"
        ]
      },
      "outputData": {
        "type": "object",
        "fields": {
          "type": "array",
          "items": {
            "type": "object",
            "fields": {
              "startDate": {
                "type": "string"
              },
              "endDate": {
                "type": "string"
              },
              "userName": {
                "type": "string"
              },
              "dateCreated": {
                "type": "string"
              }
            },
            "minItems": 0
          }
        }
      },
      "link": [
        {
          "href": "getAllReservationsByDate",
          "mediaType": "application/json"
        }
      ]
    },
    {
      "type": "Action",
      "name": "getAllReservations",
      "asynchronous": false,
      "outputData": {
        "type": "object",
        "fields": {
          "type": "array",
          "items": {
            "type": "object",
            "fields": {
              "startDate": {
                "type": "string"
              },
              "endDate": {
                "type": "string"
              },
              "userName": {
                "type": "string"
              },
              "dateCreated": {
                "type": "string"
              }
            },
            "minItems": 0
          }
        }
      },
      "link": [
        {
          "href": "getAllReservations",
          "mediaType": "application/json"
        }
      ]
    },
    {
      "type": "Action",
      "name": "getUserReservationsByDate",
      "asynchronous": false,
      "roleBasedAccessControl": "Authenticated",
      "inputData": {
        "type": "object",
        "fields": {
          "startDate": {
            "type": "string"
          }
        },
        "required": [
          "startDate"
        ]
      },
      "outputData": {
        "type": "object",
        "fields": {
          "type": "array",
          "items": {
            "type": "object",
            "fields": {
              "startDate": {
                "type": "string"
              },
              "endDate": {
                "type": "string"
              },
              "dateCreated": {
                "type": "string"
              }
            },
            "minItems": 0
          }
        }
      },
      "link": [
        {
          "href": "getUserReservationsByDate",
          "mediaType": "application/json"
        }
      ]
    },
    {
      "type": "Action",
      "name": "getUserReservationsByNameAndDate",
      "asynchronous": false,
      "roleBasedAccessControl": "Administrator",
      "inputData": {
        "type": "object",
        "fields": {
          "name": {
            "type": "string"
          },
          "startDate": {
            "type": "string"
          }
        },
        "required": [
          "name",
          "startDate"
        ]
      },
      "outputData": {
        "type": "object",
        "fields": {
          "type": "array",
          "items": {
            "type": "object",
            "fields": {
              "startDate": {
                "type": "string"
              },
              "endDate": {
                "type": "string"
              },
              "dateCreated": {
                "type": "string"
              }
            },
            "minItems": 0
          }
        }
      },
      "link": [
        {
          "href": "getUserReservationsByNameAndDate",
          "mediaType": "application/json"
        }
      ]
    },
    {
      "type": "Action",
      "name": "getAllUserReservations",
      "asynchronous": false,
      "roleBasedAccessControl": "Authenticated",
      "outputData": {
        "type": "object",
        "fields": {
          "type": "array",
          "items": {
            "type": "object",
            "fields": {
              "startDate": {
                "type": "string"
              },
              "endDate": {
                "type": "string"
              },
              "dateCreated": {
                "type": "string"
              }
            },
            "minItems": 0
          }
        }
      },
      "link": [
        {
          "href": "getAllUserReservations",
          "mediaType": "application/json"
        }
      ]
    },
    {
      "type": "Action",
      "name": "getAllUserReservationsByName",
      "asynchronous": false,
      "roleBasedAccessControl": "Administrator",
      "inputData": {
        "type": "object",
        "fields": {
          "name": {
            "type": "string"
          }
        },
        "required": [
          "name"
        ]
      },
      "outputData": {
        "type": "object",
        "fields": {
          "type": "array",
          "items": {
            "type": "object",
            "fields": {
              "startDate": {
                "type": "string"
              },
              "endDate": {
                "type": "string"
              },
              "dateCreated": {
                "type": "string"
              }
            },
            "minItems": 0
          }
        }
      },
      "link": [
        {
          "href": "getAllUserReservationsByName",
          "mediaType": "application/json"
        }
      ]
    },
    {
      "type": "Action",
      "name": "getDateAvailability",
      "asynchronous": false,
      "inputData": {
        "type": "object",
        "fields": {
          "startDate": {
            "type": "string"
          }
        },
        "required": [
          "startDate"
        ]
      },
      "outputData": {
        "type": "object",
        "fields": {
          "type": "array",
          "items": {
            "type": "object",
            "fields": {
              "startDate": {
                "type": "string"
              },
              "endDate": {
                "type": "string"
              }
            },
            "minItems": 0
          }
        }
      },
      "link": [
        {
          "href": "getDateAvailability",
          "mediaType": "application/json"
        }
      ]
    },
    {
      "type": "Action",
      "name": "addUserReservation",
      "asynchronous": false,
      "roleBasedAccessControl": "Authenticated",
      "inputData": {
        "type": "object",
        "fields": {
          "startDate": {
            "type": "string"
          }
        },
        "required": [
          "startDate"
        ]
      },
      "link": [
        {
          "href": "addUserReservation",
          "mediaType": "application/json"
        }
      ]
    },
    {
      "type": "Action",
      "name": "deleteUserReservation",
      "asynchronous": false,
      "roleBasedAccessControl": "Authenticated",
      "inputData": {
        "type": "object",
        "fields": {
          "startDate": {
            "type": "string"
          }
        },
        "required": [
          "startDate"
        ]
      },
      "link": [
        {
          "href": "deleteUserReservation",
          "mediaType": "application/json"
        }
      ]
    },
    {
      "type": "Action",
      "name": "getOngoingReservation",
      "asynchronous": false,
      "outputData": {
        "type": "object",
        "fields": {
          "startDate": {
            "type": "string"
          },
          "endDate": {
            "type": "string"
          },
          "userName": {
            "type": "string"
          },
          "dateCreated": {
            "type": "string"
          }
        }
      },
      "link": [
        {
          "href": "getOngoingReservation",
          "mediaType": "application/json"
        }
      ]
    },
    {
      "type": "Action",
      "name": "setUnrestrictedMode",
      "asynchronous": false,
      "roleBasedAccessControl": "Administrator",
      "link": [
        {
          "href": "setUnrestrictedMode",
          "mediaType": "application/json"
        }
      ]
    },
    {
      "type": "Action",
      "name": "setRestrictedMode",
      "asynchronous": false,
      "roleBasedAccessControl": "Administrator",
      "link": [
        {
          "href": "setRestrictedMode",
          "mediaType": "application/json"
        }
      ]
    },
    {
      "type": "Action",
      "name": "setMaintenanceMode",
      "asynchronous": false,
      "roleBasedAccessControl": "Administrator",
      "link": [
        {
          "href": "setMaintenanceMode",
          "mediaType": "application/json"
        }
      ]
    },
    {
      "type": "Action",
      "name": "doEmergencyStop",
      "asynchronous": false,
      "roleBasedAccessControl": "Administrator",
      "link": [
        {
          "href": "doEmergencyStop",
          "mediaType": "application/json"
        }
      ]
    }
  ]
}
